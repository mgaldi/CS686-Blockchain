(this.webpackJsonpblockchainweb=this.webpackJsonpblockchainweb||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(13),c=n.n(s),o=(n(51),n(20)),i=n(21),l=n(24),h=n(23),u=(n(52),n(117)),j=n(116),b=n(44),d=n(42),p=(n(57),n(17)),x=n(11),O=n.n(x),g=n(18),f=n(14),v=n(10),m=n(118),y=n(119),k=(n(59),n(15)),w=n.n(k),C=n(43),S=n.n(C),N=n(1),P=k.ColumnToggle.ToggleList,T=k.Search.SearchBar,A=k.Search.ClearSearchButton,H=(k.CSVExport.ExportCSVButton,function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e,a;return Object(o.a)(this,n),(a=t.call(this)).state=(e={title:"",author:"",pages:"",year:"",blocks:[]},Object(f.a)(e,"blocks",[]),Object(f.a)(e,"columns",[{dataField:"Height",text:"height",style:{overflowWrap:"break-word"},sort:!0},{dataField:"Timestamp",text:"Timestamp",style:{overflowWrap:"break-word"},sort:!0},{dataField:"ParentHash",text:"Parent Hash",style:{overflowWrap:"break-word"},sort:!1},{dataField:"RootHash",text:"RootHash",style:{overflowWrap:"break-word"},sort:!1},{dataField:"Data",text:"Data",style:{overflowWrap:"break-word"},sort:!1,formatter:function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{children:e&&e.map((function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"text-left",children:Object(N.jsxs)("span",{className:"font-weight-bold text-center",children:["Book ",t]})}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Title:"})," ",e.Title]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Author:"})," ",e.Author]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Pages:"})," ",e.Pages]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Year:"})," ",e.Year]})]})]})}))})})}}]),e),a.title="",a.author="",a.pages="",a.year="",a.remote=a.remote.bind(Object(v.a)(a)),a.newBook=a.newBook.bind(Object(v.a)(a)),a.doQuery=a.doQuery.bind(Object(v.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(v.a)(a)),a}return Object(i.a)(n,[{key:"remote",value:function(e){return e.insertRow=!0,e}},{key:"handleInputChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,"number"===e.target.type?parseInt(e.target.value):e.target.value))}},{key:"newBook",value:function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={Title:this.state.title,Author:this.state.author,Pages:parseInt(this.state.pages),Year:parseInt(this.state.year)},console.log(JSON.stringify(n)),e.next=6,fetch("/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).finally((function(e){console.log("Done")}));case 6:e.sent,this.doQuery(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"doQuery",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,n,a,r,s,c,o,i,l,h;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Array,e.prev=1,e.next=4,fetch("http://localhost:8080/validators",{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:for(n=e.sent,a=0;a<n.length;a++)r=n[a],t.push(4*r.ProcessNr+46e3),console.log(r.ProcessNr);console.log(JSON.stringify(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:s=this,c=new Array,o=new Array,i=!0,a=0;case 20:if(!(a<t.length)){e.next=44;break}return e.prev=21,l="http://localhost:".concat(t[a],"/list"),e.next=25,fetch(l,{method:"GET"});case 25:return h=e.sent,e.next=28,h.json();case 28:s=e.sent,r=s[s.length-1],c.push(r.RootHash),o.push(r.Height),console.log(r.Height),console.log(JSON.stringify(s)),e.next=39;break;case 36:e.prev=36,e.t1=e.catch(21),console.log(e.t1);case 39:o.length>1&&o[o.length-1]!==o[o.length-2]&&(i=!1),c.length>1&&c[c.length-1]!==c[c.length-2]&&(i=!1);case 41:a++,e.next=20;break;case 44:i&&this.resultOk(s);case 45:case"end":return e.stop()}}),e,this,[[1,12],[21,36]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Query for blocks."),this.doQuery();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resultOk",value:function(){var e=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.error?console.log("error"):this.setState({blocks:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={renderer:function(e){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{children:["Parent Hash: ",e.ParentHash]}),Object(N.jsxs)("p",{children:["Root Hash: ",e.RootHash]})]})}};return Object(N.jsxs)("div",{className:"bootstrap-table-margin fix-height mt-5",children:[Object(N.jsxs)(m.a,{onSubmit:this.newBook,className:"mx-5",children:[Object(N.jsx)(m.a.Group,{controlId:"form.Book",className:"text-left",children:Object(N.jsxs)(m.a.Row,{children:[Object(N.jsxs)(b.a,{children:[Object(N.jsx)(m.a.Label,{children:"Title"}),Object(N.jsx)(m.a.Control,{type:"text",placeholder:"Title",onChange:this.handleInputChange,name:"title",value:this.state.title}),Object(N.jsx)("br",{}),Object(N.jsx)(m.a.Label,{children:"Author"}),Object(N.jsx)(m.a.Control,{type:"text",placeholder:"Author",onChange:this.handleInputChange,name:"author",value:this.state.author}),Object(N.jsx)("br",{})]}),Object(N.jsxs)(b.a,{children:[Object(N.jsx)(m.a.Label,{children:"Number of Pages"}),Object(N.jsx)(m.a.Control,{type:"text",placeholder:"Pages",onChange:this.handleInputChange,name:"pages",value:this.state.pages}),Object(N.jsx)("br",{}),Object(N.jsx)(m.a.Label,{children:"Year"}),Object(N.jsx)(m.a.Control,{type:"text",placeholder:"Year",onChange:this.handleInputChange,name:"year",value:this.state.year})]})]})}),Object(N.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(N.jsx)(w.a,{keyField:"Height",data:this.state.blocks,columns:this.state.columns,search:!0,bootstrap4:!0,columnToggle:!0,children:function(t){return Object(N.jsxs)("div",{children:[Object(N.jsxs)(j.a,{className:"mt-5",children:[Object(N.jsxs)(b.a,{lg:6,children:[Object(N.jsx)(T,Object(p.a)({},t.searchProps)),Object(N.jsx)(A,Object(p.a)({},t.searchProps))]}),Object(N.jsx)(b.a,{lg:6,children:Object(N.jsx)(P,Object(p.a)({},t.columnToggleProps))})]}),Object(N.jsx)("hr",{}),Object(N.jsx)(S.a,Object(p.a)({expandRow:e},t.baseProps))]})}})]})}}]),n}(a.Component)),I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={blocks:[],user:{},notification:{isActive:!1,permanentNotification:!1,message:String("")}},e}return Object(i.a)(n,[{key:"toggleNotification",value:function(e){this.setState({notification:{isActive:!0,permanentNotification:!1,message:e}})}},{key:"render",value:function(){var e=this,t=Object(N.jsx)("div",{children:Object(N.jsx)(d.Notification,{isActive:this.state.notification.isActive,message:this.state.notification.message||"",action:"Dismiss",title:"Error!",dismissAfter:3500,onDismiss:function(){return e.setState({notification:{isActive:!1}})},onClick:function(){return e.setState({notification:{isActive:!1}})}})});return Object(N.jsxs)("div",{className:"App",children:[t,Object(N.jsx)(u.a,{fluid:!0,children:Object(N.jsx)(j.a,{children:Object(N.jsx)(b.a,{xs:12,md:12,lg:12,children:Object(N.jsx)(H,{})})})})]})}}]),n}(a.Component),B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};n(113);c.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(I,{})}),document.getElementById("root")),B()},51:function(e,t,n){},57:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.ddc6409f.chunk.js.map